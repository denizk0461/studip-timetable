<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    tools:context=".fragment.SettingsFragment"
    android:id="@+id/coordinator_layout"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">

    <com.google.android.material.appbar.AppBarLayout
        android:id="@+id/toolbar"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:fitsSystemWindows="true">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="8dp"
            app:layout_scrollFlags="scroll">

            <com.google.android.material.button.MaterialButton
                style="@style/Widget.Material3.Button.IconButton"
                android:id="@+id/button_navigate_back"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:minWidth="0dp"
                app:icon="@drawable/arrow_back"
                app:iconPadding="0dp"
                app:strokeColor="?attr/colorOutlineVariant"
                app:layout_constraintTop_toTopOf="@id/app_title_bar"
                app:layout_constraintBottom_toBottomOf="@id/app_title_bar"
                app:layout_constraintStart_toStartOf="parent"
                app:iconTint="?attr/colorOnSurfaceVariant"
                tools:ignore="UnusedAttribute"
                android:tooltipText="@string/fragment_button_back_to_overview_hint"/>

            <androidx.appcompat.widget.AppCompatTextView
                android:id="@+id/app_title_bar"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                app:fontFamily="@font/lato_blackitalic"
                android:text="@string/title_settings"
                android:textSize="28sp"
                app:layout_scrollFlags="scroll"
                android:layout_marginTop="16dp"
                android:layout_marginBottom="8dp"
                app:layout_goneMarginStart="8dp"
                app:layout_constraintTop_toTopOf="parent"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toEndOf="@id/button_navigate_back"/>

        </androidx.constraintlayout.widget.ConstraintLayout>

    </com.google.android.material.appbar.AppBarLayout>

    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:scrollbars="vertical"
        android:paddingBottom="52dp"
        android:clipToPadding="false"
        android:scrollbarStyle="outsideOverlay"
        app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <androidx.appcompat.widget.LinearLayoutCompat
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:paddingBottom="8dp"
            android:animateLayoutChanges="true">

            <!-- Stud.IP schedule settings -->
            <com.google.android.material.card.MaterialCardView
                style="@style/Widget.Material3.CardView.Outlined"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="8dp"
                android:layout_marginVertical="4dp">

                <androidx.appcompat.widget.LinearLayoutCompat
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:paddingBottom="8dp">

                    <androidx.appcompat.widget.AppCompatTextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginHorizontal="16dp"
                        android:layout_marginTop="16dp"
                        android:layout_marginBottom="8dp"
                        app:fontFamily="@font/lato_bolditalic"
                        android:text="@string/settings_schedule"
                        android:textSize="22sp" />

                    <com.google.android.material.divider.MaterialDivider
                        style="@style/DividerTheme"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginHorizontal="16dp" />

                    <!-- Refresh schedule -->
                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:id="@+id/button_refresh_schedule"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:background="@drawable/selectable_item_background"
                        android:clickable="true"
                        android:focusable="true"
                        android:orientation="vertical"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:fontFamily="@font/lato_bolditalic"
                            android:text="@string/refresh_schedule_title"
                            android:textSize="16sp" />

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="@string/refresh_schedule_subtitle"
                            android:textSize="16sp" />

                    </androidx.appcompat.widget.LinearLayoutCompat>

                    <!-- Selected timetable -->
                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:fontFamily="@font/lato_bolditalic"
                            android:text="@string/settings_selected_timetable_header"
                            android:textSize="16sp" />

                        <com.google.android.material.textfield.TextInputLayout
                            android:id="@+id/text_layout_timetable"
                            style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:hint="@string/settings_selected_timetable_hint"
                            app:boxStrokeColor="@color/selector_text_input"
                            app:hintTextColor="@color/selector_text_input">

                            <com.google.android.material.textfield.MaterialAutoCompleteTextView
                                android:id="@+id/auto_complete_timetable"
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:textColor="?attr/colorOnSurfaceVariant"
                                android:lines="1"
                                android:maxLines="1"
                                tools:text="asdf asdf asdf asdf asdf ??? asdf asdf asdf asdf asdf asdf asdf asdf asdf"
                                android:inputType="text"
                                android:clickable="false"
                                android:focusable="false"/>

                        </com.google.android.material.textfield.TextInputLayout>

                    </androidx.appcompat.widget.LinearLayoutCompat>

                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:paddingHorizontal="16dp">

                        <com.google.android.material.button.MaterialButton
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:id="@+id/button_add_timetable"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="@string/settings_timetable_button_add"
                            app:strokeColor="?attr/colorOutlineVariant"
                            android:layout_marginEnd="8dp"/>

                        <com.google.android.material.button.MaterialButton
                            style="@style/Widget.Material3.Button.OutlinedButton"
                            android:id="@+id/button_edit_timetable"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="@string/settings_timetable_button_edit"
                            app:strokeColor="?attr/colorOutlineVariant"/>

                    </androidx.appcompat.widget.LinearLayoutCompat>

                    <!-- Highlight course -->
                    <androidx.constraintlayout.widget.ConstraintLayout
                        android:id="@+id/layout_current_day"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.LinearLayoutCompat
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_marginEnd="8dp"
                            android:orientation="vertical"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toStartOf="@+id/switch_current_day"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toTopOf="parent">

                            <androidx.appcompat.widget.AppCompatTextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                app:fontFamily="@font/lato_bolditalic"
                                android:text="@string/settings_current_day_title"
                                android:textSize="16sp" />

                            <androidx.appcompat.widget.AppCompatTextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="@string/settings_current_day_subtitle"
                                android:textSize="16sp" />

                        </androidx.appcompat.widget.LinearLayoutCompat>

                        <com.google.android.material.materialswitch.MaterialSwitch
                            android:id="@+id/switch_current_day"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintTop_toTopOf="parent" />

                    </androidx.constraintlayout.widget.ConstraintLayout>

                    <!-- Highlight course -->
                    <androidx.constraintlayout.widget.ConstraintLayout
                        android:id="@+id/layout_highlight"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.LinearLayoutCompat
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_marginEnd="8dp"
                            android:orientation="vertical"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toStartOf="@+id/switch_highlight"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toTopOf="parent">

                            <androidx.appcompat.widget.AppCompatTextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                app:fontFamily="@font/lato_bolditalic"
                                android:text="@string/settings_highlight_title"
                                android:textSize="16sp" />

                            <androidx.appcompat.widget.AppCompatTextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="@string/settings_highlight_subtitle"
                                android:textSize="16sp" />

                        </androidx.appcompat.widget.LinearLayoutCompat>

                        <com.google.android.material.materialswitch.MaterialSwitch
                            android:id="@+id/switch_highlight"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintTop_toTopOf="parent" />

                    </androidx.constraintlayout.widget.ConstraintLayout>

                </androidx.appcompat.widget.LinearLayoutCompat>

            </com.google.android.material.card.MaterialCardView>

            <!-- canteen settings -->
            <com.google.android.material.card.MaterialCardView
                style="@style/Widget.Material3.CardView.Outlined"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="8dp"
                android:layout_marginVertical="4dp">

                <androidx.appcompat.widget.LinearLayoutCompat
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:paddingBottom="8dp">

                    <androidx.appcompat.widget.AppCompatTextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginHorizontal="16dp"
                        android:layout_marginTop="16dp"
                        android:layout_marginBottom="8dp"
                        app:fontFamily="@font/lato_bolditalic"
                        android:text="@string/settings_canteen"
                        android:textSize="22sp" />

                    <com.google.android.material.divider.MaterialDivider
                        style="@style/DividerTheme"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginHorizontal="16dp" />

                    <!-- Configure allergens -->
                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:id="@+id/button_allergens_config"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:background="@drawable/selectable_item_background"
                        android:clickable="true"
                        android:focusable="true"
                        android:orientation="vertical"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:fontFamily="@font/lato_bolditalic"
                            android:text="@string/allergens_config_title"
                            android:textSize="16sp" />

                        <androidx.appcompat.widget.AppCompatTextView
                            android:id="@+id/allergens_config_subtitle"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:textSize="16sp" />

                    </androidx.appcompat.widget.LinearLayoutCompat>

                    <!-- Allergens -->
                    <androidx.constraintlayout.widget.ConstraintLayout
                        android:id="@+id/layout_allergens"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.LinearLayoutCompat
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_marginEnd="8dp"
                            android:orientation="vertical"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toStartOf="@+id/switch_allergens"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toTopOf="parent">

                            <androidx.appcompat.widget.AppCompatTextView
                                android:id="@+id/settings_allergens_title_view"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                app:fontFamily="@font/lato_bolditalic"
                                android:text="@string/settings_allergens_title"
                                android:textSize="16sp"/>

                            <androidx.appcompat.widget.AppCompatTextView
                                android:id="@+id/settings_allergens_subtitle_view"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="@string/settings_allergens_subtitle"
                                android:textSize="16sp"/>

                        </androidx.appcompat.widget.LinearLayoutCompat>

                        <com.google.android.material.materialswitch.MaterialSwitch
                            android:id="@+id/switch_allergens"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintTop_toTopOf="parent" />

                    </androidx.constraintlayout.widget.ConstraintLayout>

                    <!-- Preference colouring -->
                    <androidx.constraintlayout.widget.ConstraintLayout
                        android:id="@+id/layout_pref_colour"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.LinearLayoutCompat
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_marginEnd="8dp"
                            android:orientation="vertical"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toStartOf="@+id/switch_pref_colour"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toTopOf="parent">

                            <androidx.appcompat.widget.AppCompatTextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                app:fontFamily="@font/lato_bolditalic"
                                android:text="@string/settings_pref_colour_title"
                                android:textSize="16sp" />

                            <androidx.appcompat.widget.AppCompatTextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="@string/settings_pref_colour_subtitle"
                                android:textSize="16sp" />

                        </androidx.appcompat.widget.LinearLayoutCompat>

                        <com.google.android.material.materialswitch.MaterialSwitch
                            android:id="@+id/switch_pref_colour"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintTop_toTopOf="parent" />

                    </androidx.constraintlayout.widget.ConstraintLayout>

                    <!-- Pricing -->
                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginEnd="8dp"
                        android:orientation="vertical"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:fontFamily="@font/lato_bolditalic"
                            android:text="@string/settings_pricing_title"
                            android:textSize="16sp" />

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="@string/settings_pricing_subtitle"
                            android:textSize="16sp" />

                        <com.google.android.material.button.MaterialButtonToggleGroup
                            android:id="@+id/toggle_pricing_group"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:gravity="center_horizontal"
                            app:singleSelection="true"
                            app:selectionRequired="true">

                            <com.google.android.material.button.MaterialButton
                                style="@style/Widget.Material3.Button.OutlinedButton"
                                android:id="@+id/toggle_pricing_student"
                                android:layout_width="0dp"
                                android:layout_weight="1"
                                android:layout_height="wrap_content"
                                android:text="@string/settings_pricing_student"
                                android:textColor="@color/list_group_button"
                                app:strokeColor="?attr/colorOutlineVariant"/>

                            <com.google.android.material.button.MaterialButton
                                style="@style/Widget.Material3.Button.OutlinedButton"
                                android:id="@+id/toggle_pricing_employee"
                                android:layout_width="0dp"
                                android:layout_weight="1"
                                android:layout_height="wrap_content"
                                android:text="@string/settings_pricing_employee"
                                android:textColor="@color/list_group_button"
                                app:strokeColor="?attr/colorOutlineVariant"/>

                        </com.google.android.material.button.MaterialButtonToggleGroup>

                    </androidx.appcompat.widget.LinearLayoutCompat>

                    <!-- Dates -->
                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginEnd="8dp"
                        android:orientation="vertical"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:fontFamily="@font/lato_bolditalic"
                            android:text="@string/settings_dates_title"
                            android:textSize="16sp" />

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="@string/settings_dates_subtitle"
                            android:textSize="16sp" />

                        <com.google.android.material.textfield.TextInputLayout
                            android:id="@+id/text_layout_dates"
                            style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            app:boxStrokeColor="@color/selector_text_input"
                            app:hintTextColor="@color/selector_text_input">

                            <com.google.android.material.textfield.MaterialAutoCompleteTextView
                                android:id="@+id/auto_complete_dates"
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:textColor="?attr/colorOnSurfaceVariant"
                                android:inputType="none"/>

                        </com.google.android.material.textfield.TextInputLayout>

<!--                        <com.google.android.material.button.MaterialButtonToggleGroup-->
<!--                            android:id="@+id/toggle_date_group"-->
<!--                            android:layout_width="match_parent"-->
<!--                            android:layout_height="wrap_content"-->
<!--                            android:gravity="center_horizontal"-->
<!--                            app:singleSelection="true"-->
<!--                            app:selectionRequired="true">-->

<!--                            <com.google.android.material.button.MaterialButton-->
<!--                                style="@style/Widget.Material3.Button.OutlinedButton"-->
<!--                                android:id="@+id/toggle_date_0"-->
<!--                                android:layout_width="0dp"-->
<!--                                android:layout_weight="1"-->
<!--                                android:layout_height="wrap_content"-->
<!--                                android:text="@string/settings_dates_0"-->
<!--                                android:textColor="@color/list_group_button"-->
<!--                                app:strokeColor="?attr/colorOutlineVariant"/>-->

<!--                            <com.google.android.material.button.MaterialButton-->
<!--                                style="@style/Widget.Material3.Button.OutlinedButton"-->
<!--                                android:id="@+id/toggle_date_1"-->
<!--                                android:layout_width="0dp"-->
<!--                                android:layout_weight="1"-->
<!--                                android:layout_height="wrap_content"-->
<!--                                android:text="@string/settings_dates_1"-->
<!--                                android:textColor="@color/list_group_button"-->
<!--                                app:strokeColor="?attr/colorOutlineVariant"/>-->

<!--                            <com.google.android.material.button.MaterialButton-->
<!--                                style="@style/Widget.Material3.Button.OutlinedButton"-->
<!--                                android:id="@+id/toggle_date_2"-->
<!--                                android:layout_width="0dp"-->
<!--                                android:layout_weight="1"-->
<!--                                android:layout_height="wrap_content"-->
<!--                                android:text="@string/settings_dates_2"-->
<!--                                android:textColor="@color/list_group_button"-->
<!--                                app:strokeColor="?attr/colorOutlineVariant"/>-->

<!--                            <com.google.android.material.button.MaterialButton-->
<!--                                style="@style/Widget.Material3.Button.OutlinedButton"-->
<!--                                android:id="@+id/toggle_date_3"-->
<!--                                android:layout_width="0dp"-->
<!--                                android:layout_weight="1"-->
<!--                                android:layout_height="wrap_content"-->
<!--                                android:text="@string/settings_dates_3"-->
<!--                                android:textColor="@color/list_group_button"-->
<!--                                app:strokeColor="?attr/colorOutlineVariant"/>-->

<!--                        </com.google.android.material.button.MaterialButtonToggleGroup>-->

                    </androidx.appcompat.widget.LinearLayoutCompat>

                </androidx.appcompat.widget.LinearLayoutCompat>

            </com.google.android.material.card.MaterialCardView>

            <!-- miscellaneous settings -->
            <com.google.android.material.card.MaterialCardView
                style="@style/Widget.Material3.CardView.Outlined"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="8dp"
                android:layout_marginVertical="4dp">

                <androidx.appcompat.widget.LinearLayoutCompat
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:paddingBottom="8dp">

                    <androidx.appcompat.widget.AppCompatTextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginHorizontal="16dp"
                        android:layout_marginTop="16dp"
                        android:layout_marginBottom="8dp"
                        app:fontFamily="@font/lato_bolditalic"
                        android:text="@string/settings_misc"
                        android:textSize="22sp" />

                    <com.google.android.material.divider.MaterialDivider
                        style="@style/DividerTheme"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginHorizontal="16dp" />

                    <!-- Launch fragment -->
                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginEnd="8dp"
                        android:orientation="vertical"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:fontFamily="@font/lato_bolditalic"
                            android:text="@string/settings_launch_canteen_title"
                            android:textSize="16sp" />

                        <com.google.android.material.button.MaterialButtonToggleGroup
                            android:id="@+id/toggle_launch_fragment_group"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:gravity="center_horizontal"
                            app:singleSelection="true"
                            app:selectionRequired="true">

                            <com.google.android.material.button.MaterialButton
                                style="@style/Widget.Material3.Button.OutlinedButton"
                                android:id="@+id/toggle_launch_fragment_schedule"
                                android:layout_width="0dp"
                                android:layout_weight="1"
                                android:layout_height="wrap_content"
                                android:text="@string/title_schedule_short"
                                android:textColor="@color/list_group_button"
                                app:strokeColor="?attr/colorOutlineVariant"/>

                            <com.google.android.material.button.MaterialButton
                                style="@style/Widget.Material3.Button.OutlinedButton"
                                android:id="@+id/toggle_launch_fragment_canteen"
                                android:layout_width="0dp"
                                android:layout_weight="1"
                                android:layout_height="wrap_content"
                                android:text="@string/title_canteen_short"
                                android:textColor="@color/list_group_button"
                                app:strokeColor="?attr/colorOutlineVariant"/>

                        </com.google.android.material.button.MaterialButtonToggleGroup>

                    </androidx.appcompat.widget.LinearLayoutCompat>

                    <!-- crashlytics opt-in - unused. use for possible future implementation of Crashlytics -->
                    <androidx.constraintlayout.widget.ConstraintLayout
                        android:id="@+id/layout_crashlytics"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp"
                        android:visibility="gone">

                        <androidx.appcompat.widget.LinearLayoutCompat
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_marginEnd="8dp"
                            android:orientation="vertical"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toStartOf="@+id/switch_crashlytics"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toTopOf="parent">

                            <androidx.appcompat.widget.AppCompatTextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                app:fontFamily="@font/lato_bolditalic"
                                android:text="@string/settings_crashlytics_title"
                                android:textSize="16sp" />

                            <androidx.appcompat.widget.AppCompatTextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="@string/settings_crashlytics_subtitle"
                                android:textSize="16sp" />

                        </androidx.appcompat.widget.LinearLayoutCompat>

                        <com.google.android.material.materialswitch.MaterialSwitch
                            android:id="@+id/switch_crashlytics"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintTop_toTopOf="parent" />

                    </androidx.constraintlayout.widget.ConstraintLayout>

                    <!-- Data handling -->
                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:id="@+id/button_data_handling"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:background="@drawable/selectable_item_background"
                        android:clickable="true"
                        android:focusable="true"
                        android:orientation="vertical"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:fontFamily="@font/lato_bolditalic"
                            android:text="@string/settings_data_title"
                            android:textSize="16sp" />

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="@string/settings_data_subtitle"
                            android:textSize="16sp" />

                    </androidx.appcompat.widget.LinearLayoutCompat>

                    <!-- Licences -->
                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:id="@+id/button_licences"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:background="@drawable/selectable_item_background"
                        android:clickable="true"
                        android:focusable="true"
                        android:orientation="vertical"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:fontFamily="@font/lato_bolditalic"
                            android:text="@string/settings_licences_title"
                            android:textSize="16sp" />

                        <androidx.appcompat.widget.AppCompatTextView
                            android:id="@+id/licences_text"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="@string/settings_licences_subtitle"
                            android:textSize="16sp" />

                    </androidx.appcompat.widget.LinearLayoutCompat>

                    <!-- App version -->
                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:id="@+id/button_app_version"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:background="@drawable/selectable_item_background"
                        android:clickable="true"
                        android:focusable="true"
                        android:orientation="vertical"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:fontFamily="@font/lato_bolditalic"
                            android:text="@string/settings_app_version"
                            android:textSize="16sp" />

                        <androidx.appcompat.widget.AppCompatTextView
                            android:id="@+id/app_version_text"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:textSize="16sp" />

                    </androidx.appcompat.widget.LinearLayoutCompat>

                </androidx.appcompat.widget.LinearLayoutCompat>

            </com.google.android.material.card.MaterialCardView>

            <!-- development settings -->
            <com.google.android.material.card.MaterialCardView
                android:id="@+id/card_experimental_settings"
                style="@style/Widget.Material3.CardView.Outlined"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="8dp"
                android:layout_marginVertical="4dp">

                <androidx.appcompat.widget.LinearLayoutCompat
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:paddingBottom="8dp">

                    <androidx.appcompat.widget.AppCompatTextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginHorizontal="16dp"
                        android:layout_marginTop="16dp"
                        android:layout_marginBottom="8dp"
                        app:fontFamily="@font/lato_bolditalic"
                        android:text="@string/settings_experimental"
                        android:textSize="22sp" />

                    <com.google.android.material.divider.MaterialDivider
                        style="@style/DividerTheme"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginHorizontal="16dp"/>

                    <!-- Hide experiments -->
                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:id="@+id/button_hide_experiments"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:background="@drawable/selectable_item_background"
                        android:clickable="true"
                        android:focusable="true"
                        android:orientation="vertical"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:fontFamily="@font/lato_bolditalic"
                            android:text="@string/settings_hide_experiments_title"
                            android:textSize="16sp" />

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="@string/settings_hide_experiments_subtitle"
                            android:textSize="16sp" />

                    </androidx.appcompat.widget.LinearLayoutCompat>

                    <!-- Android version -->
                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:id="@+id/button_android_version"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:background="@drawable/selectable_item_background"
                        android:clickable="true"
                        android:focusable="true"
                        android:orientation="vertical"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:fontFamily="@font/lato_bolditalic"
                            android:text="@string/settings_api_level"
                            android:textSize="16sp" />

                        <androidx.appcompat.widget.AppCompatTextView
                            android:id="@+id/text_android_version"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:textSize="16sp" />

                    </androidx.appcompat.widget.LinearLayoutCompat>

                    <!-- Build time -->
                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:id="@+id/button_build_time"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:background="@drawable/selectable_item_background"
                        android:clickable="true"
                        android:focusable="true"
                        android:orientation="vertical"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:fontFamily="@font/lato_bolditalic"
                            android:text="@string/settings_build_time"
                            android:textSize="16sp" />

                        <androidx.appcompat.widget.AppCompatTextView
                            android:id="@+id/build_time_text"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:textSize="16sp" />

                    </androidx.appcompat.widget.LinearLayoutCompat>

                    <!-- Show beta nav icons -->
                    <androidx.constraintlayout.widget.ConstraintLayout
                        android:id="@+id/layout_beta_nav"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.LinearLayoutCompat
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_marginEnd="8dp"
                            android:orientation="vertical"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toStartOf="@+id/switch_beta_nav"
                            app:layout_constraintStart_toStartOf="parent"
                            app:layout_constraintTop_toTopOf="parent">

                            <androidx.appcompat.widget.AppCompatTextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                app:fontFamily="@font/lato_bolditalic"
                                android:text="@string/settings_beta_nav_title"
                                android:textSize="16sp" />

                            <androidx.appcompat.widget.AppCompatTextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="@string/settings_beta_nav_subtitle"
                                android:textSize="16sp" />

                        </androidx.appcompat.widget.LinearLayoutCompat>

                        <com.google.android.material.materialswitch.MaterialSwitch
                            android:id="@+id/switch_beta_nav"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:layout_constraintBottom_toBottomOf="parent"
                            app:layout_constraintEnd_toEndOf="parent"
                            app:layout_constraintTop_toTopOf="parent" />

                    </androidx.constraintlayout.widget.ConstraintLayout>

                    <!-- Dev codes -->
                    <androidx.appcompat.widget.LinearLayoutCompat
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:background="@drawable/selectable_item_background"
                        android:clickable="true"
                        android:focusable="true"
                        android:orientation="vertical"
                        android:paddingHorizontal="16dp"
                        android:paddingVertical="8dp">

                        <androidx.appcompat.widget.AppCompatTextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            app:fontFamily="@font/lato_bolditalic"
                            android:text="@string/settings_dev_codes_title"
                            android:textSize="16sp" />

                        <androidx.appcompat.widget.LinearLayoutCompat
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal">

                            <com.google.android.material.textfield.TextInputLayout
                                style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="4"
                                android:layout_marginEnd="8dp"
                                android:hint="@string/settings_dev_codes_hint">

                                <com.google.android.material.textfield.TextInputEditText
                                    style="@style/Widget.Material3.TextInputEditText.OutlinedBox"
                                    android:maxLines="1"
                                    android:maxLength="6"
                                    android:id="@+id/input_dev_code"
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    app:fontFamily="@font/ibm_regular"
                                    android:inputType="textNoSuggestions"/>

                            </com.google.android.material.textfield.TextInputLayout>

                            <com.google.android.material.button.MaterialButton
                                style="@style/Widget.Material3.Button.IconButton.Outlined"
                                android:id="@+id/button_dev_codes"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:minWidth="0dp"
                                app:icon="@drawable/double_arrow_right"
                                app:iconPadding="0dp"
                                app:strokeColor="?attr/colorOutlineVariant"
                                app:iconTint="?attr/colorOnSurfaceVariant"/>

                        </androidx.appcompat.widget.LinearLayoutCompat>

                    </androidx.appcompat.widget.LinearLayoutCompat>

                </androidx.appcompat.widget.LinearLayoutCompat>

            </com.google.android.material.card.MaterialCardView>

        </androidx.appcompat.widget.LinearLayoutCompat>

    </androidx.core.widget.NestedScrollView>

</androidx.coordinatorlayout.widget.CoordinatorLayout>

